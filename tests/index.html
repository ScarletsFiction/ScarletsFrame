<!DOCTYPE html>
<html>
   <head>
      <title>Test Page</title>
      <meta charset="UTF-8">
      <script src='https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.min.js'></script>
      <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.min.css">
      <script src='/dist/scarletsframe.min.js'></script>
      <style type="text/css">
        .sf-dom-queued{
          color: transparent;
          background-color: gainsboro;
          user-select: none;
        }
      </style>
   </head>
   <body class="body">
      <img src="/tests/img.jpg" alt="" style="width: 50px;float: right;">

      <!-- Dynamic Page -->
      <div>
         <b>Dynamic Page Navigation</b><br>
         <i>Note: the url also changed, if you hit refresh you will be redirected to other page. This feature is supposed for Scarlets Framework on PHP.</i><br><br>
         <custom-view></custom-view>
         <br>

         <a href="/test/page1">Go to page 1</a>
         <a href="/test/page2">Go to page 2</a>
         <a href="/" sf-router-ignore>Refresh current page</a>
      </div><br><br>

      <!-- Virtual Scroll And Array Binding -->
      <div sf-controller="virtual-scroll">
         <style type="text/css">
            .scroller{
               overflow-x: hidden;
               overflow-y: scroll;
               height: 200px;
            }
         </style>

         <b>Virtual Scroll - Static Height & Scroll on parent</b>
         <div data-simplebar style="height: 200px;">
            <ul class="sf-virtual-list" scroll-parent-index="1">
               <li sf-repeat-this="x in list1" data-id="{{x.id}}">
                  <label>{{ x.id }}</label>

                  {{@if #x === list1[0]:
                     x.first = true;
                     {[<span> - Am I the ({{ one }}) one?</span>]}

                  @elseif x.first && #x !== list1[0]:
                     delete x.first;
                     {[<span> - I'm no longer the {{ one }} one..</span>]}
                  }}
               </li>
            </ul>
         </div><br>

         <b>Virtual Scroll - Dynamic Height</b>
         <i>Automatically scroll to item-11</i>
         <ul class="scroller sf-virtual-list sf-list-dynamic sf-keyed-list">
            <li sf-repeat-this="x in list2" data-id="{{x.id}}">
               <label>{{x.id}}</label>
            </li>
         </ul>

      </div><br><br>

      <!-- Model and Controller -->
      <div sf-controller="model-binding">

         <b>Change variable on keyboard input</b><br>
         <input type="text" sf-bound="inputBinding" value="{{ inputBinding }}"><br>
         <span id="test">Var Content: {{ inputBinding }}</span><br><br>

         <b>Another one</b><br>
         <input type="text" sf-bound="inputBinding2"><br>
         <span>Var Content: {{ inputBinding2 }}</span><br><br>

         <input type="checkbox" value="check1" sf-bound="inputBinding3">Check 1
         <input type="checkbox" value="check2" sf-bound="inputBinding3">Check 2<br>
         <input type="radio" name="inputBinding4" value="radio1" sf-bound> Radio 1
         <input type="radio" name="inputBinding4" value="radio2" sf-bound> Radio 2<br>
         <select sf-bound="inputBinding5" multiple>
            <option value="sel1">Select 1</option>
            <option value="sel2">Select 2</option>
            <option value="sel3">Select 3</option>
         </select>
         <select sf-bound="inputBinding6">
            <option value="sel1">Select 1</option>
            <option value="sel2">Select 2</option>
            <option value="sel3">Select 3</option>
         </select><br><br>

         <b>Conditional HTML</b><br>
         <div sf-bind-ignore>
            {{@if showHTML === true:
               {[<span id="x4">This 1st must not be displayed {{ stuff }}</span>]}
            }}
            {{@if showHTML === false:
               {[<span id="x4">This 2th must be displayed {{ stuff }}</span>]}
            }}<br><br>
         </div>

         <b>Execution for the current model scope</b><br>
         <div>
            {{@exec
               for(var i = 1; i <= 5; i++){
                  {[<span id="x4">{{ prefix }}{{ i }}</span><br>]}
               }

               var calculate = (5+4);
               {[<span id="x4">5 + 4 = {{ calculate }}</span><br>]}

               var escapeHTML = "<span>This must be HTML escaped (except the bold)</span>";
               var noEscapeHTML = "<br><span>This shouldn't be HTML escaped (but parsed)</span>";

               {[ <b>{{escapeHTML}}</b> ]}
               @return noEscapeHTML;
            }}
            {{@exec {[ <br id="x4"><br>another exec ]} }}
         </div>
      </div><br><br>

      <script type="text/javascript" src="/tests/script.js"></script>
   </body>
</html>