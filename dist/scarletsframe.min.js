/*
  ScarletsFrame
  A frontend library for Scarlets Framework that support
  lazy page load and element binding that can help
  simplify your code

  https://github.com/ScarletsFiction/ScarletsFrame
*/
"undefined"==typeof sf&&(sf=function(){if(arguments[0].constructor===Function)return sf.loader.onFinish.apply(null,arguments)}),setTimeout(function(){sf(sf.router.init)},10),"undefined"!=typeof $&&$.fn&&$.fn.extend||setTimeout(function(){console.clear(),console.error("Please load jQuery before before ScarletsFrame")},1e3),$.fn.extend({animateCSS:function(e,t,r){var n=this,o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var i in o)if(void 0!==n[0].style[i]){o=o[i];break}return r&&n.css("-webkit-animation-duration",r+"s").css("animation-duration",r+"s"),n.addClass("animated "+e).one(o,function(){setTimeout(function(){$(n).removeClass("animated "+e)},1),r&&$(n).css("-webkit-animation-duration","").css("animation-duration",""),"function"==typeof t&&t()}),n}}),sf.controller=new function(){var self=this,controller={};self.active={},self.for=function(e,t){sf.model.root[e]||(sf.model.root[e]={}),controller[e]=t},self.elementModel=function(e,t=!1){var r=$(e),n=sf.controller.fromElement(e);if(!n)throw"model or controller was not found";var o=r.attr("[sf-bind-list]");if(o||(o=r.parents("[sf-bind-list]").attr("sf-bind-list")),!o)return t?t(self.root[n],-1):self.root[n];var i=0;return o&&(i=r.parents("[sf-bind-list]").prevAll("[sf-bind-list]").length),t?t(self.root[n][o],i):self.root[n][o][i]},self.fromElement=function(e){var t=$(e),r=t.parents("[sf-model]").attr("sf-model");return r||(r=t.parents("[sf-controller]").attr("sf-controller")),r};var listenSFClick=function(e){var element=$(e.target),script=element.attr("sf-click");script||(element=element.parents("[sf-click]").eq(0),script=element.attr("sf-click"));var model=element.parents("[sf-model]").attr("sf-model");if(sf.model.root[model]||(model=element.parents("[sf-controller]").attr("sf-controller")),!sf.model.root[model])throw"Couldn't find model for "+model+" that was called from sf-click";var _modelScope=sf.model.root[model],modelKeys=sf.model.modelKeys(_modelScope),scopeMask=RegExp("(?<=\\b[^.]|^|\\n| +|\\t|\\W )("+modelKeys+")(?=(?:[^\"']*(?:'|\")[^\"']*(?:'|\"))*[^\"']*$)\\b","g");script=script.replace(scopeMask,function(e,t){return"_modelScope."+t}),script=script.split("(");var method=script[0],method_=method;try{method=eval(method)}catch(e){method=!1}if(method){script.shift(),script=script.join("("),script=script.split(")"),script.pop(),script=script.join("("),0!==script.length&&(script=eval("["+script+"]")),script||(script=[]);try{method.apply(element,script)}catch(e){console.error("Error on sf-click for model: "+model+"\n",e.target,"\n",e)}}else console.error("Error on sf-click for model: "+model+" [Cannot find "+method_+"]\n",e.target)};self.run=function(e,t){if(!sf.loader.DOMWasLoaded)return sf(function(){self.run(e,t)});controller[e]&&(self.active[e]||(controller[e]&&controller[e](sf.model.root[e],sf.model.root),$('[sf-controller="'+e+'"]').on("click","[sf-click]",listenSFClick),self.active[e]=!0)),t&&t(sf.model.root[e],sf.model.root),controller[e]&&delete controller[e]},self.init=function(){if(!sf.loader.DOMWasLoaded)return sf(function(){self.init(name)});$("[sf-controller]").each(function(){self.run(this.attributes["sf-controller"].value)})}},sf.loader=new function(){var e=this;e.loadedContent=0,e.totalContent=1,e.DOMWasLoaded=!1;var t=[],r=[];e.onFinish=function(r){if(e.DOMWasLoaded)return r();-1===t.indexOf(r)&&t.push(r)},e.onProgress=function(t){if(e.DOMWasLoaded)return t(e.loadedContent,e.totalContent);-1===r.indexOf(t)&&r.push(t)},e.f=function(t){e.loadedContent++;for(var n=0;n<r.length;n++)r[n](e.loadedContent,e.totalContent);t&&t.removeAttribute&&t.removeAttribute("onload")},e.css=function(t){if(e.DOMWasLoaded){for(var r=t.length-1;r>=0;r--)0!==$('link[href*="'+t[r]+'"]').length&&t.splice(r,1);if(0===t.length)return}e.totalContent=e.totalContent+t.length;var n="";for(r=0;r<t.length;r++)n+='<link onload="sf.loader.f(this);" rel="stylesheet" href="'+t[r]+'">';$(function(){document.getElementsByTagName("body")[0].innerHTML+=n})},e.js=function(t,r="body"){if(e.DOMWasLoaded){for(var n=t.length-1;n>=0;n--)0!==$('script[src*="'+t[n]+'"]').length&&t.splice(n,1);if(0===t.length)return}e.totalContent=e.totalContent+t.length;for(n=0;n<t.length;n++)$.ajax({url:t[n],dataType:"script",cache:!0,success:sf.loader.f})};var n=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(n),e.DOMWasLoaded=!0;for(var o=0;o<t.length;o++)t[o]();r.splice(0),t.splice(0)}},100)},sf.prototype.constructor=sf.loader.onFinish,$(function(){$("img:not(onload)[src]").each(function(){sf.loader.totalContent++,this.setAttribute("onload","sf.loader.f(this)")})}),sf.model=new function(){var self=this,bindingEnabled=!1;self.root={};var skipQuotes="(?=(?:[^\"']*(?:'|\")[^\"']*(?:'|\"))*[^\"']*$)",bracketMatch=RegExp("([\\w.\\]]*?)\\(.*?\\)"+skipQuotes,"g"),allowedFunction=["for","if","while","_content_.take","console.log"],localEval=function(script_,_model_,_modelScope,_content_){var script=script_;script=script.split('\\"').join("\\$%*").split("\\'").join("\\%$*");var script=script_.replace(bracketMatch,function(e,t){return""!==t&&-1===allowedFunction.indexOf(t)?e.replace(/\(.*?\)/g,".<Function Not Allowed>"):e}),_result_="";script=script.split("\\$%*").join('\\"').split("\\%$*").join("\\'");var _evaled_=eval(script);return""!==_result_?_result_:_evaled_};self.for=function(e,t){self.root[e]||(self.root[e]={}),t(self.root[e],self.root)},self.modelKeys=function(e){for(var t=Object.keys(e),r=t.length-1;r>=0;r--)-1!==t[r].indexOf("$")&&t.splice(r,1);return t.join("|")};var clearElementData=function(e){e.innerHTML="";for(var t=0;t<e.attributes.length;t++){var r=e.attributes[t].name;"sf-bind-list"!==r&&e.removeAttribute(r)}e.setAttribute("style","display:none")},dataParser=function(e,t,r,n,o=""){var i=sf.model.root[n],l=RegExp("(?<=\\b[^.]|^|\\n| +|\\t|\\W )("+self.modelKeys(i)+")"+skipQuotes+"\\b","g");if(r)var a=RegExp("(?<=\\b[^.]|^|\\n| +|\\t|\\W )"+r+"\\."+skipQuotes+"\\b","g");return bindingEnabled=!0,e.replace(/{{([^@].*?)}}/g,function(e,n){return n=n.split('\\"').join("\\$%*").split("\\'").join("\\%$*"),r&&(n=n.replace(a,function(e){return"_model_."+e[0].slice(1)})),n=(n=n.replace(l,function(e,t){return"_modelScope."+t})).split("\\$%*").join('\\"').split("\\%$*").join("\\'"),(n=""+localEval.apply(self.root,[o+n,t,i])).replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"})})},uniqueDataParser=function(e,t,r,n){var o={length:0,take:function(e,o){if(!e)return dataParser(this[o],t,r,n);var i='"use strict";var ',l=!0;for(var a in e)"string"==typeof e[a]?e[a]='"'+e[a].split('"').join('\\"')+'"':"object"==typeof e[a]&&(e[a]=JSON.stringify(e[a])),l||(i+=","),i+=a+" = "+e[a],l=!1;return i=i.split("(").join("").split(")").join(""),dataParser(this[o],t,r,n,i+";")}};e=e.replace(/{\[(.*?)\]}/gs,function(e,t){return o[o.length]=t,o.length++,"_result_ += _content_.take(&VarPass&, "+(o.length-1)+");"});var i=sf.model.root[n],l=RegExp("(?<=\\b[^.]|^|\\n| +|\\t|\\W )("+self.modelKeys(i)+")"+skipQuotes+"\\b","g");if(r)var a=RegExp("(?<=\\b[^.]|^|\\n| +|\\t|\\W )"+r+"\\."+skipQuotes+"\\b","g");return e.replace(/{{(@.*?)}}/gs,function(e,s){s=s.split('\\"').join("\\$%*").split("\\'").join("\\%$*"),r&&(s=s.replace(a,function(e){return"_model_."+e[1].slice(1)}));var f=(s=(s=s.replace(l,function(e){return"_modelScope."+e[1].slice(1)})).split("\\$%*").join('\\"').split("\\%$*").join("\\'")).match(/(?<=var|let)\W.*?[\w, =\n\t]+.*?/g);if(f){for(var c=[],d=0;d<f.length;d++)f[d].replace(/[\n\t\r]+/g,"").split(",").forEach(function(e){c.push(e.split("=")[0])});f=c;for(d=0;d<f.length;d++)f[d]+=":(typeof "+f[d]+'!="undefined"?'+f[d]+":undefined)";f="{"+f.join(",")+"}",s=s.split("&VarPass&").join(f)}var u="",p=!1;if(1!=(p=s.split("@if ")).length&&(p=p[1].split(":"),localEval.apply(self.root,[p[0],t,i,o])&&(p.shift(),u=p.join(":"))),1!=(p=s.split("@call")).length){var m=(p=p[1].trim()).split("@"),h=[];if(1!==m.length){h=(h=m[1]).split(" ").join("").split(",");for(var b=0;b<h.length;b++)h[b]=localEval.apply(self.root,[h[b],t,i,o])}if(m=m[0],!sf.model.root[n][m])throw"'"+m+"' was not available inside '"+n+"' model";u=sf.model.root[n][m].apply(null,h)}return 1!=(p=s.split("@exec")).length&&(p=p[1].split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&"),u=s=localEval.apply(self.root,[p,t,i,o])),u})},bindArray=function(e,t,r,n,o){for(var i=JSON.parse(JSON.stringify(t)),l=["pop","push","splice","shift","unshift","refreshBind"],a=function(t,i=!1,l=!1){var a=$("[sf-model='"+n+"']");if(0===a.length&&(a=$("[sf-controller='"+n+"']")),0!==a.length){a=a.find("[sf-bind-list='"+o+"']");var s=!1;if(self.root[n]["on$"+o]&&(s=self.root[n]["on$"+o]),i){var f=self.root[n][o][t],c=uniqueDataParser(e,f,r,n);c=dataParser(c,f,r,n),c=$(c),a[t]?l?(s.create&&s.create(c[0]),c.insertBefore(a[0])):(s.update&&s.update(c[0]),a[t].outerHTML=c[0].outerHTML):(s.create&&s.create(c[0]),c.insertAfter(a[a.length-1]))}else if(a[t]){var d=!1,u=function(){if(!d){if(d=!0,a.length<=1)return clearElementData(a[t]);a[t].remove()}};s.remove?s.remove(a[t],u)||setTimeout(u,800):u()}}},s=function(e,t){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:function(){var e=void 0;if(Array.prototype[t]&&(e=Array.prototype[t].apply(this,arguments)),"pop"===t)a(this.length);else if("push"===t)a(this.length-1,!0);else if("shift"===t)a(0);else if("splice"===t)if(arguments.length>=3)arguments[0]=!1,t="refreshBind";else{var r=arguments[0];r<0&&(r=this.length+r+1);var n=arguments[1];n||(n=this.length-r);for(var o=0;o<n;o++)a(r)}else"unshift"===t&&a(0,!0,!0);if("refreshBind"===t)if(arguments[0]||0===arguments[0])a(arguments[0],!0);else{var l=!1;for(o=0;o<this.length;o++)JSON.stringify(i[o])!==JSON.stringify(this[o])&&(l=!0,a(o,!0));l&&(i=JSON.parse(JSON.stringify(this)))}return e}})},f=0;f<l.length;f++)s(t,l[f])},loopParser=function(e,t,r){var n="",o=r.split(" in "),i=o[0];if(!sf.model.root[e])return console.error("Can't parse element because model for '"+e+"' was not found",$(t)[0]);var l=self.root[e][o[1]];if(t=(t=$(t).attr("sf-bind-list",o[1])[0].outerHTML).replace(/  +|\t+/g,""),2===o.length){for(var a in l){var s=l[a];temp=uniqueDataParser(t,s,i,e),temp=dataParser(temp,s,i,e),n+=temp}Object.defineProperty(self.root[e],o[1],{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){for(var t=0;t<e.length;t++)l[t]?(l[t]=e[t],l.refreshBind(t)):l.push(e[t]);return l.length>e.length&&l.splice(l.length-e.length),l}}),bindArray(t,l,i,e,o[1])}return n},bindInput=function(){$("input[sf-bound]").each(function(){var e=$(this),t=e.parents("[sf-controller]").attr("sf-controller");if(t){var r=e.attr("sf-bound");void 0!==typeof self.root[t][r]?(e.attr("sf-bounded",r),e.removeAttr("sf-bound"),e.keyup(function(n){self.root[t][r]=e.val()}),e.attr("value","{{"+r+"}}"),bindObject(e,self.root[t],r,"attr")):console.error('Cannot get reference for self.root["'+t+'"]["'+r+'"]')}})};self.init=function(e=!1){sf.model.queuePreprocess(e),sf.model.parsePreprocess(e),$("[sf-repeat-this]").each(function(){var e=$(this),t=e.parent(),r=e.next();r.length&&e[0]!==r[0]||(r=!1);var n=e.before();n.length&&e[0]!==n[0]||(n=!1);var o=e.attr("sf-repeat-this");e.removeAttr("sf-repeat-this");var i=e.parents("[sf-controller]").attr("sf-controller"),l=this.outerHTML,a=loopParser(i,l,o);a?(e.remove(),a=$(a),r?a.insertBefore(r):n?a.insertAfter(n):t.append(a)):(e.attr("sf-bind-list",o.split(" in ")[1]),clearElementData(this))})},document.addEventListener("DOMNodeRemoved",function(e){if(bindingEnabled){var t=e.target,r=[];$(t).find("[sf-controller]").each(function(){r.push(this.attributes["sf-controller"].value)}),t.attributes&&t.attributes["sf-controller"]&&r.push(t.attributes["sf-controller"].value),$(t).find("[sf-bind-id], [sf-bind-list], [sf-bounded], [sf-repeat-this]").each(function(){removeBinding(this,r)}),removeBinding(t)}});var removeBinding=function(e,t=!1){if(e.attributes){var r=e.attributes;if(r["sf-bind-id"]){var n=r["sf-bind-id"].value;if(!bindRef[n])return;for(var o=bindRef[n],i=0;i<o.propertyName.length;i++){var l=o.object[o.propertyName[i]];Object.defineProperty(o.object,o.propertyName[i],{configurable:!0,enumerable:!0,writable:!0,value:l})}delete bindRef[n];var a=bindRef.cache;for(var i in a)a[i].callback&&a[i].callback[n]&&delete a[i].callback[n],$.isEmptyObject(a[i].callback)&&delete a[i];a[n]&&(delete a[n].attrs,delete a[n].innerHTML,delete a[n].modelName,delete a[n].model,delete a[n].created,delete a[n].element),bindRef.length--,0===bindRef.length&&(bindRef.index=0)}if(t){var s=!1;r["sf-bind-list"]&&(s=r["sf-bind-list"].value),r["sf-repeat-this"]&&(s=r["sf-repeat-this"].value.split(" in ")[1]),r["sf-bounded"]&&(s=r["sf-bounded"].value);for(i=0;i<t.length;i++){var f=self.root[t[i]];if(f[s]){l=f[s].slice(0);Object.defineProperty(f,s,{configurable:!0,enumerable:!0,writable:!0,value:l})}}}}},bindRef={length:0,index:0,cache:{}};self.bindRef=bindRef;var dcBracket=/{{.*?}}/,bindObject=function(e,t,r,n){e instanceof Node||(e=e[0]);var o=bindRef.index;$(e).attr("sf-bind-id",o),bindRef.index++,bindRef.length++,bindRef.cache[o]={};var i=bindRef.cache[o];if(i.attrs={},i.innerHTML="",i.modelName=sf.controller.fromElement(e),i.model=self.root[i.modelName],i.created=Date.now(),"attr"===n||!n)for(var l in e.attributes)if(dcBracket.test(e.attributes[l].value)){var a=e.attributes[l].name;i.attrs[a]=e.attributes[l].value,"value"===a&&e.removeAttribute(a)}"html"!==n&&n||(i.innerHTML=e.innerHTML),bindRef[o]||(bindRef[o]={object:t,propertyName:[]}),bindRef[o].propertyName.push(r),i.element=$(e);var s=function(){if("attr"===n||!n)for(var e in i.attrs)if(-1!==i.attrs[e].indexOf(r)){var t=dataParser(i.attrs[e],i.model,!1,i.modelName);"value"===e?i.element.val(t):i.element.attr(e,t);break}if("html"===n||!n){t=uniqueDataParser(i.innerHTML,i.model,!1,i.modelName);t=dataParser(t,i.model,!1,i.modelName),i.element.html(t)}};if(Object.getOwnPropertyDescriptor(i.model,r).set){for(var l in bindRef)if(i.model===bindRef[l].object&&-1!==bindRef[l].propertyName.indexOf(r)){bindRef.cache[l].callback[o]=s;break}}else{i.callback={},i.callback[o]=s;var f=t[r];Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){for(var t in f=e,i.callback)i.callback[t]();return f}})}};self.bindElement=function(e,t=!1){var r=sf.controller.fromElement(e),n=self.root[r];if(!n)return console.error("Model for "+r+" was not found while binding:",e);var o=RegExp("(?<=\\b[^.]|^|\\n| +|\\t|\\W )("+self.modelKeys(n)+")"+skipQuotes+"\\b","g"),i=e.outerHTML;"attr"===t&&(i=i.replace(e.innerHTML,""));for(var l=i.match(/(?<={{).*?(?=}})/gs),a=0;a<l.length;a++)for(;null!==(bindable=o.exec(l[a]));)bindObject(e,n,bindable[a],t)},self.queuePreprocess=function(e=!1){for(var t=(e||document.body).childNodes,r=["html","head","style","link","meta","script","object","iframe"],n=0;n<r.length;n++)r[n]=r[n].toUpperCase();var o=[];for(n=0;n<t.length;n++){var i=t[n];if(-1===r.indexOf(i.nodeName))if(1===i.nodeType){var l=i.attributes;if(l["sf-bind-id"]||l["sf-repeat-this"]||l["sf-bind-list"])continue;for(var a=0;a<l.length;a++)-1!==l[a].value.indexOf("{{")&&(i.setAttribute("sf-preprocess","attronly"),o.push(i));self.queuePreprocess(i)}else if(3===i.nodeType&&-1!==i.nodeValue.indexOf("{{")){i.parentNode.setAttribute("sf-preprocess","");for(a=0;a<o.length;a++)o[a].removeAttribute("sf-preprocess");return}}},self.parsePreprocess=function(e=!1){$(e||document.body).find("[sf-preprocess]").each(function(){var e=sf.controller.fromElement(this);if(this.removeAttribute("sf-preprocess"),!sf.model.root[e])return console.error("Can't parse element because model for '"+e+"' was not found",this);self.bindElement(this,$(this).attr("sf-bind"));var t=uniqueDataParser(this.innerHTML,sf.model.root[e],!1,e);this.innerHTML=dataParser(t,sf.model.root[e],!1,e);for(var r=0;r<this.attributes.length;r++)-1!==this.attributes[r].value.indexOf("{{")&&(this.attributes[r].value=dataParser(this.attributes[r].value,sf.model.root[e],!1,e))}),bindInput()}},sf.router=new function(){var e=this;e.loading=!1,e.enabled=!1,e.currentPage=[];var t=!1,r=!1,n="";e.init=function(){if(!sf.loader.DOMWasLoaded)return sf(function(){e.init()});e.lazy(),$("[sf-page]").each(function(){var e=this.attributes["sf-page"].value;l(e)}),t=!0,n=window.location.pathname},e.enable=function(t=!0){e.enabled=t,t?e.lazy():$("a[href][onclick]").each(function(){var e=$(this);"return sf.router.load(this)"===e.attr("onclick")&&e.removeAttr("onclick")})};var o={};e.before=function(e,t,r=!1){o[e]||(o[e]=[]),!1===r?-1===o[e].indexOf(t)&&o[e].push(t):o[e][r]=t};var i={};e.after=function(e,t,r=!1){i[e]||(i[e]=[]),!1===r?-1===i[e].indexOf(t)&&i[e].push(t):i[e][r]=t};var l=function(t,r=!1){if(-1===e.currentPage.indexOf(t)&&e.currentPage.push(t),sf.controller.init(),sf.model.init(r),o[t]){sf.model.root[t]||(sf.model.root[t]={});for(var n=0;n<o[t].length;n++)o[t][n](sf.model.root)}},a={loading:[],loaded:[],special:[],error:[]};e.on=function(e,t){-1===a[e].indexOf(t)&&a[e].push(t)},e.lazyViewPoint={},e.lazy=function(){e.enabled&&$("a[href]:not([onclick])").each(function(){var e=this.href;-1===e.indexOf("#")&&(0!==e.indexOf(window.location.origin)&&"/"!==e.charAt(0)||$(this).attr("onclick","return sf.router.load(this)"))})},e.load=function(e){return!history.pushState||"ignore"==$(e).attr("sf-router")||!f(e.href.replace(window.location.origin,""))};var s=!1,f=function(o){for(var f=0;f<a.loading.length;f++)if(a.loading[f](o))return;window.location.pathname;return t=!1,r&&r.abort(),r=loadURL(window.location.origin+o,{data:{_scarlets:".dynamic."},success:function(s){if(!t){!0,r=!1;var f=!1,d={};if(s=s.replace(/<!-- SF-Special:(.*?)-->(?=(?:[^"\']*(?:\'|")[^"\']*(?:\'|"))*[^"\']*$)/g,function(e,t){var r=t.split("--|&>").join("--\x3e");return d=Object.assign(d,JSON.parse(r)),""}),!$.isEmptyObject(d))for(var u=0;u<a.special.length;u++)if(a.special[u](d))return;for(u=0;u<a.loaded.length;u++)f=a.loaded[u](n,o,s)||f;var p=!1;if(!f){var m=function(t){(function(){if(-1===e.currentPage.indexOf(name)&&e.currentPage.splice(e.currentPage.indexOf(name),1),""!==e.currentPage&&i[e.currentPage]){sf.model.root[e.currentPage]||(sf.model.root[e.currentPage]={});for(var t=0;t<i[e.currentPage].length;t++)i[e.currentPage][t](sf.model.root)}})((p=$(t)).find("[sf-page]")),p.html(s);var r=p.find("title").eq(0).html();r&&$("head title").html(r),h=!0},h=!1;for(var b in e.lazyViewPoint){if(-1!==n.indexOf(b))for(var v in e.lazyViewPoint[b])if(-1!==n.indexOf(b)){m(e.lazyViewPoint[b][v]);break}if(h)break}if(!h&&(sf.router.lazyViewPoint["@default"]&&m(sf.router.lazyViewPoint["@default"]),!h))for(u=0;u<a.error.length;u++)a.error[u]('sf.router.lazyViewPoint["'+b+'"]["'+v+'"] was not found');if(t)return}e.lazy(),p||(p=$("body")),p.find("[sf-controller], [sf-page]").each(function(){this.attributes["sf-controller"]&&sf.controller.run(this.attributes["sf-controller"].value),this.attributes["sf-page"]&&l(this.attributes["sf-page"].value,p[0])}),t=!0,!1,n=o,c=!1}},error:function(e,t){r=!1;for(var n=0;n<a.error.length;n++)a.error[n](e.status,t);c=!0,window.history.back()}}),s||window.history.pushState(null,"",o),s=!1,!0},c=!1;window.addEventListener("popstate",function(e){c?c=!1:(s=!0,f(window.location.pathname))},!1)};
//# sourceMappingURL=scarletsframe.min.js.map
